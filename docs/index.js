!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){
/*!
* screenfull
* v5.0.2 - 2020-02-13
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,o=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o=0,r=n.length,i={};o<r;o++)if((e=n[o])&&e[1]in t){for(o=0;o<e.length;o++)i[n[0][o]]=e[o];return i}return!1}(),r={change:o.fullscreenchange,error:o.fullscreenerror},i={request:function(e){return new Promise(function(n,r){var i=function(){this.off("change",i),n()}.bind(this);this.on("change",i);var s=(e=e||t.documentElement)[o.requestFullscreen]();s instanceof Promise&&s.then(i).catch(r)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var r=function(){this.off("change",r),e()}.bind(this);this.on("change",r);var i=t[o.exitFullscreen]();i instanceof Promise&&i.then(r).catch(n)}else e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var o=r[e];o&&t.addEventListener(o,n,!1)},off:function(e,n){var o=r[e];o&&t.removeEventListener(o,n,!1)},raw:o};o?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(t[o.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[o.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[o.fullscreenEnabled])}}}),n?e.exports=i:window.screenfull=i):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(s=o,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(l," */")),i=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([r]).join("\n")}var s,a,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);o&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function a(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},o=[],r=0;r<e.length;r++){var i=e[r],l=t.base?i[0]+t.base:i[0],d=n[l]||0,c="".concat(l," ").concat(d);n[l]=d+1;var u=a(c),m={css:i[1],media:i[2],sourceMap:i[3]};-1!==u?(s[u].references++,s[u].updater(m)):s.push({identifier:c,updater:g(m,t),references:1}),o.push(c)}return o}function d(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var s=i(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function m(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var i=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function h(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var p=null,b=0;function g(e,t){var n,o,r;if(t.singleton){var i=b++;n=p||(p=d(t)),o=m.bind(null,n,i,!1),r=m.bind(null,n,i,!0)}else n=d(t),o=h.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=a(n[o]);s[r].references--}for(var i=l(e,t),d=0;d<n.length;d++){var c=a(n[d]);0===s[c].references&&(s[c].updater(),s.splice(c,1))}n=i}}}},function(e,t){WebFontConfig={google:{families:["Merriweather::latin","Roboto:500:latin"]},active:function(){document.body.classList.remove("invisible")}},function(){var e=document.createElement("script");e.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",e.type="text/javascript",e.async="true";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()},function(e,t,n){var o=n(2),r=n(5);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o)()(!1);r.push([e.i,"/* ------------------------------------------\n * CSS3 GITHUB BUTTONS (Nicolas Gallagher)\n * Licensed under Unlicense\n * http://github.com/necolas/css3-github-buttons\n * --------------------------------------- */\n\n\n/* =============================================================================\n   Base Button\n   ========================================================================== */\n\n.button {\n    position: relative;\n    overflow: visible;\n    display: inline-block;\n    padding: 0.5em 1em;\n    border: 1px solid #d4d4d4;\n    margin: 0;\n    text-decoration: none;\n    text-align: center;\n    text-shadow: 1px 1px 0 #fff;\n    font:11px/normal sans-serif;\n    color: #333;\n    white-space: nowrap;\n    cursor: pointer;\n    outline: none;\n    background-color: #ececec;\n    background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#f4f4f4), to(#ececec));\n    background-image: -moz-linear-gradient(#f4f4f4, #ececec);\n    background-image: -ms-linear-gradient(#f4f4f4, #ececec);\n    background-image: -o-linear-gradient(#f4f4f4, #ececec);\n    background-image: linear-gradient(#f4f4f4, #ececec);\n    -moz-background-clip: padding; /* for Firefox 3.6 */\n    background-clip: padding-box;\n    border-radius: 0.2em;\n    /* IE hacks */\n    zoom: 1;\n    *display: inline;\n}\n\n.button:hover,\n.button:focus,\n.button:active,\n.button.active {\n    border-color: #3072b3;\n    border-bottom-color: #2a65a0;\n    text-decoration: none;\n    text-shadow: -1px -1px 0 rgba(0,0,0,0.3);\n    color: #fff;\n    background-color: #3c8dde;\n    background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#599bdc), to(#3072b3));\n    background-image: -moz-linear-gradient(#599bdc, #3072b3);\n    background-image: -o-linear-gradient(#599bdc, #3072b3);\n    background-image: linear-gradient(#599bdc, #3072b3);\n}\n\n.button:active,\n.button.active {\n    border-color: #2a65a0;\n    border-bottom-color: #3884cd;\n    background-color: #3072b3;\n    background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#3072b3), to(#599bdc));\n    background-image: -moz-linear-gradient(#3072b3, #599bdc);\n    background-image: -ms-linear-gradient(#3072b3, #599bdc);\n    background-image: -o-linear-gradient(#3072b3, #599bdc);\n    background-image: linear-gradient(#3072b3, #599bdc);\n}\n\n/* overrides extra padding on button elements in Firefox */\n.button::-moz-focus-inner {\n    padding: 0;\n    border: 0;\n}\n\n/* =============================================================================\n   Button extensions\n   ========================================================================== */\n\n/* Primary button\n   ========================================================================== */\n\n.button.primary {\n    font-weight: bold;\n}\n\n/* Danger button\n   ========================================================================== */\n\n.button.danger {\n    color: #900;\n}\n\n.button.danger:hover,\n.button.danger:focus,\n.button.danger:active {\n    border-color: #b53f3a;\n    border-bottom-color: #a0302a;\n    color: #fff;\n    background-color: #dc5f59;\n    background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#dc5f59), to(#b33630));\n    background-image: -moz-linear-gradient(#dc5f59, #b33630);\n    background-image: -ms-linear-gradient(#dc5f59, #b33630);\n    background-image: -o-linear-gradient(#dc5f59, #b33630);\n    background-image: linear-gradient(#dc5f59, #b33630);\n}\n\n.button.danger:active,\n.button.danger.active {\n    border-color: #a0302a;\n    border-bottom-color: #bf4843;\n    background-color: #b33630;\n    background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#b33630), to(#dc5f59));\n    background-image: -moz-linear-gradient(#b33630, #dc5f59);\n    background-image: -ms-linear-gradient(#b33630, #dc5f59);\n    background-image: -o-linear-gradient(#b33630, #dc5f59);\n    background-image: linear-gradient(#b33630, #dc5f59);\n}\n\n/* Pill button\n   ========================================================================== */\n\n.button.pill {\n    border-radius: 50em;\n}\n\n/* Disabled button\n   ========================================================================== */\n\n.button.disable {\n    opacity: 0.5;\n}\n\n/* Big button\n   ========================================================================== */\n\n.button.big {\n    font-size: 14px;\n}\n\n.button.big.icon:before {\n    top: 0;\n}\n\n\n/* =============================================================================\n   Button groups\n   ========================================================================== */\n\n/* Standard group\n   ========================================================================== */\n\n.button-group {\n    display: inline-block;\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    /* IE hacks */\n    zoom: 1;\n    *display: inline;\n}\n\n.button + .button,\n.button + .button-group,\n.button-group + .button,\n.button-group + .button-group {\n    margin-left: 15px;\n}\n\n.button-group li {\n    float: left;\n    padding: 0;\n    margin: 0;\n}\n\n.button-group .button {\n    float: left;\n    margin-left: -1px;\n}\n\n.button-group > .button:not(:first-child):not(:last-child),\n.button-group li:not(:first-child):not(:last-child) .button {\n    border-radius: 0;\n}\n\n.button-group > .button:first-child,\n.button-group li:first-child .button {\n    margin-left: 0;\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n}\n\n.button-group > .button:last-child,\n.button-group li:last-child > .button {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n}\n\n/* Minor group\n   ========================================================================== */\n\n.button-group.minor-group .button {\n    border: 1px solid #d4d4d4;\n    text-shadow: none;\n    background-image: none;\n    background-color: #fff;\n}\n\n.button-group.minor-group .button:hover,\n.button-group.minor-group .button:focus {\n    background-color: #599bdc;\n}\n\n.button-group.minor-group .button:active,\n.button-group.minor-group .button.active {\n    background-color: #3072b3;\n}\n\n.button-group.minor-group .button.icon:before {\n    opacity: 0.8;\n}\n\n/* =============================================================================\n   Button container (mixing buttons and groups, e.g., nav bar)\n   ========================================================================== */\n\n.button-container .button,\n.button-container .button-group {\n    vertical-align: top;\n}\n\n",""]),t.default=r},function(e,t,n){var o=n(2),r=n(7);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o)()(!1);r.push([e.i,'html{height:100%}body{font-size:16px;font-family:sans-serif;color:#222;height:100%}ul{list-style:none;padding:0;margin:0}li{display:inline-block}a:hover{color:#b54646;border-bottom-color:#b54646}a{transition:color .15s linear;color:#222;border-bottom:1px solid #ccc;text-decoration:none}a.image-link{border-bottom:none}p:first-of-type{margin-top:0;padding-top:0}.hidden{display:none}.invisible{opacity:0;visibility:hidden}.github-ribbon{position:absolute;top:0;right:0;border:0;display:none;transition:.15s ease-out;transition-property:opacity}body.invisible .github-ribbon{opacity:0}.pomodoro{display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0;text-align:center;margin:0 auto;width:100%;height:100%}.pomodoro,.pomodoro header{transition:.15s ease-out;transition-property:opacity,transform}.pomodoro header{margin-bottom:3em;padding-top:1.5em;overflow:auto}.pomodoro .before,.pomodoro .after{flex:1;min-height:0}.pomodoro .entries{border:1px solid transparent;box-sizing:border-box;font-size:.8em;padding-top:2em}.pomodoro .entries:not(.hidden){display:inline-block}.pomodoro .entries .entry{box-sizing:border-box;display:block;overflow:visible;height:3.5em}.pomodoro .entries .entry:not(:first-child){border-top:1px solid #ddd}.pomodoro .entries .entry.editing>*{display:none}.pomodoro .entries .entry.editing .note-entry{display:block}.pomodoro .entries .entry>*,.pomodoro .entries .note-entry>*{display:inline-block;vertical-align:middle}.pomodoro .entries .close{margin-left:2em}.pomodoro .entries .entry-time{width:20%}.pomodoro .entries .note,.pomodoro .entries .note-entry{float:left}.pomodoro .entries .note{cursor:pointer;text-align:left;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.pomodoro .entries .note,.pomodoro .entries .info-area,.pomodoro .entries .note-entry{height:100%;line-height:3.5em}.pomodoro .entries .info-area{text-align:right;float:right}.pomodoro .entries .note{width:70%}.pomodoro .entries [type=text]{height:26px;border:1px solid #ddd;box-sizing:border-box;width:77.5%;font-size:inherit}.pomodoro .entries [type=submit]{width:17.5%;margin-left:5%}.pomodoro .entries [type=text],.pomodoro .entries [type=submit]{font-family:inherit}.pomodoro .entries .info-area{width:30%}.pomodoro .entries .note-entry{display:none;position:relative;width:100%}.pomodoro .about-area{margin:3em 0;padding:0 1em;transition:.25s ease-out;transition-property:opacity,visibility}.pomodoro .description{font-size:.9em;margin-top:3em;margin-bottom:0}.pomodoro .title{font-family:"Merriweather",serif;font-size:1.2em;width:320px;margin:0 auto;position:relative}.pomodoro .title a{border-bottom:none;transition:none;color:inherit}.pomodoro .title span{color:#b54646}.pomodoro .share-links{font-size:.8em;margin:.5em 0}.pomodoro .share{margin:0 .2em}.pomodoro .timer{font-size:5em;font-family:"Roboto",sans-serif;font-weight:500;margin:.2em 0;min-height:1.18em;line-height:normal}.pomodoro .message-wrapper{display:none}.pomodoro .timer-wrapper{width:100%;padding:1em 0;background-color:#fefefe;border-top:1px solid #ddd;border-bottom:1px solid #ddd;line-height:0}.pomodoro .timer-wrapper.disabled{position:relative}.pomodoro .timer-wrapper.disabled::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:#fafafa;opacity:.925}.pomodoro .timer-wrapper.disabled .message-wrapper{display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:2;padding:2em;text-align:center;line-height:1.3}.pomodoro .timer-wrapper.disabled .message-wrapper::before{content:"";height:100%}.pomodoro .timer-wrapper.disabled .message-wrapper::before,.pomodoro .timer-wrapper.disabled .message-wrapper .message{display:inline-block;vertical-align:middle}.pomodoro .use-anyway{margin-top:2em}body.invisible .pomodoro{opacity:0;transform:translateY(5%)}body.fullscreen .pomodoro>header,body.fullscreen .github-ribbon{opacity:0;pointer-events:none}body.fullscreen .about-area{display:none}@media only screen and (min-width: 480px){.github-ribbon{display:block}.pomodoro{width:24em}.pomodoro .timer-wrapper{display:inline-block;width:auto;padding:1em;border-radius:4px;border-left:1px solid #ddd;border-right:1px solid #ddd;margin:0 auto}.pomodoro .description{padding:0}}',""]),t.default=r},function(e,t,n){"use strict";n.r(t),t.default=n.p+"cffb9f256f645c2d879a6557a7eccf60.mp3"},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o);n(3);class i{constructor(e){this.container=e,this.elemTimerWrapper=this.container.querySelector(".timer-wrapper"),this.elemMessage=this.container.querySelector(".message"),this.container.addEventListener("click",e=>{if(e.target.classList.contains("use-anyway"))return this.elemTimerWrapper.classList.remove("disabled")})}check(){return this.hasFullscreen()?this.hasLocalStorage()?void 0:this.notify("localStorage"):this.notify("fullscreen")}hasLocalStorage(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}hasFullscreen(){return null!=r.a.isEnabled}notify(e){let t=`Looks like <em>${e}</em> is not supported. Consider using a `;return t+="<a href='https://www.google.com/chrome/browser/' target='_blank'>modern browser</a>.",t+="<button class='use-anyway big button'>Use anyway</button>",this.elemTimerWrapper.classList.add("disabled"),this.elemMessage.innerHTML=t}}class s{constructor(e){null==e&&(e={}),this.time=e.time,this.note=e.note}}var a=function(e){const t=e/1e3,n=Math.floor(t/60).toString();let o=Math.floor(t%60).toString();return 1===o.length&&(o="0"+o),n+":"+o};class l{constructor(e,t){this.container=e,this.model=t,this.elemEntries=this.find(".entries"),this.elem=this.bindActions(this.render())}render(){const e=this.createElement();return e.querySelector(".note").innerHTML=this.model.note,e.querySelector(".time-remaining").innerHTML=a(this.model.time),e}bindActions(e){return e.addEventListener("click",e=>{if(e.target.classList.contains("note")&&(this.elem.classList.add("editing"),this.elem.querySelector("[type=text]").select()),e.target.classList.contains("note-editing"))return this.elem.classList.remove("editing")}),e.addEventListener("submit",e=>(e.preventDefault(),this.model.note=e.target["editing-entry"].value,this.elem.classList.remove("editing"),this.render())),e}strip(e){return e.replace("ss+"," ")}find(e){const t=this.container.querySelector(e);if(!t)throw new Error("Element not found "+e);return t}createElement(){return null!=this.elem||(this.elem=document.createElement("li"),this.elem.classList.add("entry"),this.elem.innerHTML=this.strip(`<span class="note">${this.model.note}</span>\n<form class="note-entry">\n  <input type="text" value="${this.model.note}" name="editing-entry" /><input type="submit" class="small button" value="Save" />\n</form>\n<div class="info-area">\n  <span class="time-remaining">${this.model.time}</span>\n  <button class="close small button">✕</button>\n</div>`),this.elemEntries.insertBefore(this.elem,this.elemEntries.childNodes[0])),this.elem}}n(4),n(6);class d{static initClass(){this.prototype.setting={POMODORO:15e5,SHORT:3e5,LONG:6e5}}constructor(e){this.container=e,this.elemPomodoro=this.find(".button-group.length .pomodoro-time"),this.elemShortBreak=this.find(".button-group.length .short-break"),this.elemLongBreak=this.find(".button-group.length .long-break"),this.elemStartTimer=this.find(".button-group.control .start"),this.elemStopTimer=this.find(".button-group.control .stop"),this.elemResetTimer=this.find(".button-group.control .reset"),this.elemFullscreen=this.find(".button-group.control .fullscreen"),this.elemAboutButton=this.find(".share.about"),this.elemAbout=this.find(".about-area"),this.elemTimer=this.find(".timer"),this.elemTimerWrapper=this.find(".timer-wrapper"),this.elemEntries=this.find(".entries"),this.elemHeader=this.find(".pomodoro header"),this.defaultTitle=document.title,this.notifySound=this.loadSound(n(8).default),this.cachedHeight={},this.startTime=null,this.updateIntervalID=null,this.delayIntervalID=null,this.currentEntry=null,this.entries=[],this.pastElapsedTime=0,this.timeSetting=this.setting.POMODORO,this.hasAboutAnchor()&&this.showAbout(),r.a.isEnabled&&this.showFullscreenButton(),this.showTime(),this.bindActions(),this.updateVerticalAlignment(),this.adjustEntriesWidth(),this.loadEntries()}outerHeight(e,t){null==t&&(t={}),null==t.padding&&(t.padding=!0),null==t.margin&&(t.margin=!0);const n=window.getComputedStyle(e);let o=0;t.margin&&(o=parseFloat(n.marginTop)+parseFloat(n.marginBottom));let r=0;t.padding&&(r=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom));const i=parseFloat(n.borderTop)+parseFloat(n.borderBottom);return e.clientHeight+o+r+i}adjustEntriesWidth(){const e=window.getComputedStyle(this.find(".button-group:last-child"),null).getPropertyValue("width"),t=window.getComputedStyle(this.elemTimerWrapper,null),n=parseInt(t.getPropertyValue("width"),10)===window.innerWidth,o=this.elemTimerWrapper.clientWidth+"px";return this.elemEntries.style.width=n?e:o}updateVerticalAlignment(){return null==this.cachedHeight.header&&(this.cachedHeight.header=this.outerHeight(this.elemHeader,{padding:!1})+2),this.elemHeader.style["margin-top"]=-this.cachedHeight.header+"px"}hasAboutAnchor(){return"#about"===window.location.hash}showFullscreenButton(){return this.elemFullscreen.classList.remove("hidden")}toggleFullscreen(){return r.a.toggle()}updateFullscreenClass(e){return null==e&&(e={}),e.enable||r.a.isFullscreen?document.body.classList.add("fullscreen"):document.body.classList.remove("fullscreen")}showAbout(){return window.requestAnimationFrame(()=>(this.elemAbout.classList.remove("hidden"),window.requestAnimationFrame(()=>(this.elemAbout.classList.remove("invisible"),this.elemAbout.scrollIntoView()))))}loadSound(e){const t=new Audio(e);return t.preload="auto",t.load(),t}bindActions(){return this.elemPomodoro.addEventListener("click",()=>this.resetTimer(this.setting.POMODORO)),this.elemShortBreak.addEventListener("click",()=>this.resetTimer(this.setting.SHORT)),this.elemLongBreak.addEventListener("click",()=>this.resetTimer(this.setting.LONG)),this.elemStartTimer.addEventListener("click",()=>this.startTimer()),this.elemStopTimer.addEventListener("click",()=>this.stopTimer()),this.elemResetTimer.addEventListener("click",()=>this.resetTimer(this.timeSetting)),this.elemFullscreen.addEventListener("click",()=>this.toggleFullscreen()),this.elemAboutButton.addEventListener("click",()=>this.showAbout()),this.container.addEventListener("click",e=>this.removeEntryByEvent(e)),r.a.isEnabled&&document.addEventListener(r.a.raw.fullscreenchange,this.updateFullscreenClass),window.addEventListener("resize",this.adjustEntriesWidth.bind(this)),window.addEventListener("beforeunload",this.saveEntries.bind(this))}find(e){const t=this.container.querySelector(e);if(!t)throw new Error("Element not found "+e);return t}running(){return null!=this.delayIntervalID||null!=this.updateIntervalID}addEntry(e){null==e&&(e={}),null==e.time&&(e.time=0),null==e.note&&(e.note="");const t=new s({note:e.note,time:e.time}),n=new l(this.container,t);return this.entries.push(n),this.currentEntry=n,n}addNamedEntry(e){const t=(()=>{switch(e){case this.setting.POMODORO:return"Pomodoro";case this.setting.SHORT:return"Short Break";case this.setting.LONG:return"Long Break"}})();return this.addEntry({time:0,note:t})}removeEntryByIndex(e){const t=this.entries.splice(e,1)[0];return t.elem.parentNode.removeChild(t.elem)}removeEntryByEvent(e){if(!e.target.classList.contains("close"))return;const t=e.target.parentNode.parentNode,{children:n}=t.parentNode,o=Array.prototype.indexOf.call(n,t);return this.removeEntryByIndex(n.length-o-1)}updateCurrentEntry(e){if(null!=this.currentEntry)return this.currentEntry.model.time=e,this.currentEntry.render()}saveEntries(){return localStorage.setItem("entries",JSON.stringify(Array.from(this.entries).map(e=>e.model)))}loadEntries(){return Array.from(JSON.parse(localStorage.getItem("entries"))).map(e=>this.addEntry({time:e.time,note:e.note}))}startTimer(e){if(this.running())return;if(this.updateFullscreenClass({enable:!0}),this.pastElapsedTime+1e3>this.timeSetting)return this.resetTimer();document.title=this.defaultTitle,this.showTime(),0===this.pastElapsedTime&&this.addNamedEntry(this.timeSetting);const t=e?1e3:0;return clearInterval(this.delayIntervalID),this.delayIntervalID=setTimeout(()=>(this.startTime=Date.now(),this.updateIntervalID=setInterval(()=>{const e=this.pastElapsedTime+(Date.now()-this.startTime),t=this.subtractTime(e);if(this.updateCurrentEntry(e+1e3),t<1e3)return this.alert()},1e3/30)),t)}alert(){this.notifySound.currentTime=0,this.notifySound.play(),this.stopTimer();const e=this.timeSetting/1e3/60+" minutes elapsed!";return document.title=e,alert(e)}stopTimer(){if(this.running())return this.updateFullscreenClass({enable:!1}),clearInterval(this.delayIntervalID),clearInterval(this.updateIntervalID),this.delayIntervalID=null,this.updateIntervalID=null,this.pastElapsedTime+=Date.now()-this.startTime,this.startTime=null}resetTimer(e){return null!=e&&(this.timeSetting=e),this.stopTimer(),this.pastElapsedTime=0,this.startTimer(!0)}subtractTime(e){const t=Math.max(0,this.timeSetting-e);return this.elemTimer.innerHTML=a(t),t}showTime(){return this.subtractTime(this.pastElapsedTime)}}d.initClass();const c=document.querySelector(".pomodoro");c?(new i(c).check(),new d(c)):console.warn("No element with `pomodoro` class found")}]);